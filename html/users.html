<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Team Hack</title>
  <link href="css/bootstrap.min.css" rel="stylesheet">
  <link href="css/main.css" rel="stylesheet">
  <link href='http://fonts.googleapis.com/css?family=Lobster|Raleway' rel='stylesheet' type='text/css'>

  <script src="http://code.jquery.com/jquery-2.1.1.min.js"></script>
  <script src="js/bootstrap.min.js"></script>

  <!-- Firebase -->
  <script src="https://cdn.firebase.com/js/client/2.2.9/firebase.js"></script>
  <script src="js/firebase_helpers.js"></script>
  <script type="text/javascript" src="http://www.skypeassets.com/i/scom/js/skype-uri.js"></script>
</head>

<body>
  <nav style="margin-bottom: 0;border-radius: 0;box-shadow:none;"class="navbar navbar-inverse">
    <div class="container-fluid">
      <div class="navbar-header">
        <a style="color:#86B404;"class="navbar-brand" href="index.html"><b>TeamHack</b></a>
      </div>
      <div>
        <ul class="nav navbar-nav">
          <li><a href="index.html">Home</a></li>
          <li><a href="questionaire.html">Update Info</a></li>
          <li class="active"><a href="users.html">Find Hackers</a></li>
          <li><a href="team.html">My Team</a></li>

        </ul>
        <ul class="nav navbar-nav navbar-right">
          <li><form id="frmLogin" role="form"></li>
          <li class="loginwith"><a href="#">Login with</a></li>
          <li class="logingithub" style="padding-right:10px"><a href="#" class="btn btn-default bt-social" data-provider="github">GitHub</a></li>
          <li class="loggedin">
            <a class="loggedinuser" href="#">Welcome ...</a>
          </li>
          <li class="loggedin" style="padding-top:5px; padding-bottom:5px">
            <a href="#" style="padding-top:0px; padding-bottom:0px; padding-left:0px"><img class="avatar" height="40" width="40" src=""></a>
          </li>
          <li class="logout" style="padding-right:10px"><a href="#" class="btn btn-default" id="logout-button">Logout</a></li>
        </form>
      </ul>
    </div>
  </div>
</nav>

<div style="background-image:url(pictures/a.png);color:white;padding-top:10px;"class="questiontoprow">
  <div style=""class="container">
    <h1 style="padding-left:37.5%;color:#86B404;"><b>TeamHack Users</b></h1>
  </div>
</div>

<a name="top"></a>
<div style=""class="rownew">


  <div class="col-lg-4 col-md-4 col-sm-6">
    <div class="thumbnail">
      <img style ="padding-top:3%;"src="pictures/circle.svg" height="140" width="140" id="userthumb1">
      <div class="caption">
        <h3 id="name1"></h3>
        <div class="tagspace" id="tags1"></div>
        <div class="text-center">
          <a class="btn btn-default" id="add1" >Add To Team</a>
          <a class="btn btn-default" id="full1" data-toggle="modal" data-target="#myModal">Full Profile</a>
          <a class="btn btn-default" id="chat1" href="skype:william.yang97">Call</a>
        </div>
      </div>
    </div>
  </div>
  <div class="col-lg-4 col-md-4 col-sm-6">
    <div class="thumbnail">
      <img style ="padding-top:3%;"src="pictures/circle.svg" height="140" width="140" id="userthumb2">
      <div class="caption">
        <h3 id="name2"></h3>
        <div class="tagspace" id="tags2"></div>
        <div class="text-center">
          <a class="btn btn-default" id="add2" >Add To Team</a>
          <a class="btn btn-default" id="full2" data-toggle="modal" data-target="#myModal">Full Profile</a>
          <a class="btn btn-default" id="chat2" href="skype:william.yang97">Call</a>
        </div>
      </div>
    </div>
  </div>
  <div class="col-lg-4 col-md-4 col-sm-6">
    <div class="thumbnail">
      <img style ="padding-top:3%;"src="pictures/circle.svg" height="140" width="140" id="userthumb3">
      <div class="caption">
        <h3 id="name3"></h3>
        <div class="tagspace" id="tags3"></div>
        <div class="text-center">
          <a class="btn btn-default" id="add3" >Add To Team</a>
          <a class="btn btn-default" id="full3" data-toggle="modal" data-target="#myModal">Full Profile</a>
          <a class="btn btn-default" id="chat3" href="skype:william.yang97">Call</a>

        </div>
      </div>
    </div>
  </div>
  <div class="col-lg-4 col-md-4 col-sm-6">
    <div class="thumbnail">
      <img style ="padding-top:3%;"src="pictures/circle.svg" height="140" width="140" id="userthumb4">
      <div class="caption">
        <h3 id="name4"></h3>
        <div class="tagspace" id="tags4"></div>
        <div class="text-center">
          <a class="btn btn-default" id="add4" >Add To Team</a>
          <a class="btn btn-default" id="full4" data-toggle="modal" data-target="#myModal">Full Profile</a>
          <a class="btn btn-default" id="chat4" href="skype:william.yang97">Call</a>
        </div>
      </div>
    </div>
  </div>
  <div class="col-lg-4 col-md-4 col-sm-6">
    <div class="thumbnail">
      <img style ="padding-top:3%;"src="pictures/circle.svg" height="140" width="140" id="userthumb5">
      <div class="caption">
        <h3 id="name5"></h3>
        <div class="tagspace" id="tags5"></div>
        <div class="text-center">
          <a class="btn btn-default" id="add5" >Add To Team</a>
          <a class="btn btn-default" id="full5" data-toggle="modal" data-target="#myModal">Full Profile</a>
          <a class="btn btn-default" id="chat5" href="skype:william.yang97">Call</a>

        </div>
      </div>
    </div>
  </div>
  <div class="col-lg-4 col-md-4 col-sm-6">
    <div class="thumbnail">
      <img style ="padding-top:3%;"src="pictures/circle.svg" height="140" width="140" id="userthumb6">
      <div class="caption">
        <h3 id="name6"></h3>
        <div class="tagspace" id="tags6"></div>
        <div class="text-center">
          <a class="btn btn-default" id="add6" >Add To Team</a>
          <a class="btn btn-default" id="full6" data-toggle="modal" data-target="#myModal">Full Profile</a>
          <a class="btn btn-default" id="chat6" href="skype:william.yang97">Call</a>
        </div>
      </div>
    </div>
  </div>
  <div class="col-lg-4 col-md-4 col-sm-6">
    <div class="thumbnail">
      <img style ="padding-top:3%;"src="pictures/circle.svg" height="140" width="140" id="userthumb7">
      <div class="caption">
        <h3 id="name7"></h3>
        <div class="tagspace" id="tags7"></div>
        <div class="text-center">
          <a class="btn btn-default" id="add7" >Add To Team</a>
          <a class="btn btn-default" id="full7" data-toggle="modal" data-target="#myModal">Full Profile</a>
          <a class="btn btn-default" id="chat7" href="skype:william.yang97">Call</a>
        </div>
      </div>
    </div>
  </div>
  <div class="col-lg-4 col-md-4 col-sm-6">
    <div class="thumbnail">
      <img style ="padding-top:3%;"src="pictures/circle.svg" height="140" width="140" id="userthumb8">
      <div class="caption">
        <h3 id="name8"></h3>
        <div class="tagspace" id="tags8"></div>
        <div class="text-center">
          <a class="btn btn-default" id="add8" >Add To Team</a>
          <a class="btn btn-default" id="full8" data-toggle="modal" data-target="#myModal">Full Profile</a>
          <a class="btn btn-default" id="chat8" href="skype:william.yang97">Call</a>
        </div>
      </div>
    </div>
  </div>
  <div class="col-lg-4 col-md-4 col-sm-6">
    <div class="thumbnail">
      <img style ="padding-top:3%;"src="pictures/circle.svg" height="140" width="140" id="userthumb9">
      <div class="caption">
        <h3 id="name9"></h3>
        <div class="tagspace" id="tags9"></div>
        <div class="text-center">
          <a class="btn btn-default" id="add9" >Add To Team</a>
          <a class="btn btn-default" id="full9" data-toggle="modal" data-target="#myModal">Full Profile</a>
          <a class="btn btn-default" id="chat9" href="skype:william.yang97">Call</a>
        </div>
      </div>
    </div>
  </div>

  <!-- Modal -->
  <div class="blacktext">
    <div class="modal fade" id="myModal" >
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
            <h4 id="modalname">Loading...</h4>
          </div>
          <div class="modal-body">

            <form style="width:100%;" class="form-horizontal">
              <div class="form-group">
                <label class="col-sm-2 control-label">Email</label>
                <div class="col-sm-10">
                  <div class="form-control-static" id="email" ></div>
                </div>
              </div>
              <div class="form-group">
                <label class="col-sm-2 control-label">Experience</label>
                <div class="col-sm-10">
                  <div class="form-control-static" id="experience"></div>
                </div>
              </div>
              <div class="form-group">
                <label class="col-sm-2 control-label">Interested</label>
                <div class="col-sm-10">
                  <div class="form-control-static" id="interested"></div>
                </div>
              </div>
              <div class="form-group">
                <label class="col-sm-2 control-label">Resume Link</label>
                <div class="col-sm-10">
                  <div class="form-control-static" id="resume-link"></div>
                </div>
              </div>
              <div class="form-group">
                <label class="col-sm-2 control-label">Description</label>
                <div class="col-sm-10">
                  <div class="form-control-static" id="description"></div>
                </div>
              </div>
            </form>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>

            <!-- Modal -->
            <div class="blacktext">
              <div class="modal fade" id="myModal" >
                <div class="modal-dialog">
                  <div class="modal-content">
                    <div class="modal-header">
                      <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                      <h4 id="modalname"></h4>
                    </div>
                    <div class="modal-body">
                      ...
                    </div>
                    <div class="modal-footer">
                      <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="col-lg-12 col-md-12 col-sm-12">
    <ul class="pager">
      <li class="previous"><a href="#top" id="first">First</a></li>
      <li class="next"><a href="#top" id="next">Next</a></li>
    </ul>
  </div>

</div>

<script>
  for (var i = 1; i <= 9; i++) {
    $("#name"+ i).text("Loading...");
    $("#tags"+ i).text("");
  };

  Populate("github");

  // ------------------------- Next DATA -------------------------
  $( "#next" ).click(function() {
    Populate($("#full9").attr("uid")+" ");
  });

  // ------------------------- First DATA -------------------------
  $( "#first" ).click(function() {
    Populate("github");
  });


  //  ------------------------- POPULATE DATA -------------------------
  function Populate(start) {
  var users = new Firebase("https://team-hack.firebaseio.com/user/");
  users.orderByKey().startAt(start).limitToFirst(9).once("value", function(snapshot){
    var counter = 1;
    snapshot.forEach(function(eachUser){
      $("#name" + counter).text(eachUser.val().name);
      $("#tags" + counter).text(eachUser.val().description);
      $("#userthumb" + counter).attr("src",eachUser.val()["image-link"]);
      $("#full"+counter).attr("uid",eachUser.key());
      $("#full"+counter).css('visibility','visible');
      $("#chat"+counter).css('visibility','visible');
      $("#add"+counter).css('visibility','visible');
      counter++;
    });
    if (counter <9)
    {
      for(counter;counter<=9;counter++)
      {
      $("#name" + counter).text("This could be you!");
      $("#tags" + counter).text("");
      $("#userthumb" + counter).attr("src","https://avatars.githubusercontent.com/u/0?v=3");
      $("#full"+counter).attr("");
      $("#full"+counter).css('visibility','hidden');
      $("#chat"+counter).css('visibility','hidden');
      $("#add"+counter).css('visibility','hidden');
      }
    }
  });
  }

  // ------------------------- POPULATE MODAL -------------------------

  $('#myModal').on('shown.bs.modal', function (e) {
    var uid = $('#'+e.relatedTarget.id).attr("uid");
    var user = new Firebase("https://team-hack.firebaseio.com/user/"+ uid);
    user.on("value", function(snapshot) {
      var json = snapshot.val();
      $("#description").text(json.description);
      $("#email").text(json.email);
      $("#experience").text(json.experience);
      $("#interested").text(json.interested);
      $('#modalname').text(json.name);
      if (json["resume-link"])
      {
        $("#resume-link").html("<a target='_blank' href='" + json["resume-link"] + "'>Click Here</a>");
      }
      else
      {
        $("#resume-link").html("");
      }
      

    }, function (errorObject) {
      console.log("The read failed: " + errorObject.code);
    });
  });

  $('#myModal').on('hidden.bs.modal', function () {
    $("#description").text("");
    $("#email").text("");
    $("#experience").text("");
    $("#interested").text("");
    $('#modalname').text("Loading...");
    $("#resume-link").text("");
  })


</script>

</body>
</html>
